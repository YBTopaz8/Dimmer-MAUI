<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="Dimmer.WinUI.Views.WinuiPages.SongDetailPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Dimmer.WinUI.Views.WinuiPages"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    
    xmlns:CustomViews="using:Dimmer.WinUI.Views.CustomViews.WinuiViews"
        xmlns:converters="using:Dimmer.WinUI.Utils.Converters"
    xmlns:cw="using:Dimmer.WinUI.Views.WinuiPages"
    xmlns:dgView="using:WinUI.TableView"
    xmlns:dimmSearch="clr-namespace:Dimmer.Data.ModelView.DimmerSearch;assembly=Dimmer"
    xmlns:lang="clr-namespace:Dimmer.Resources.Localization;assembly=Dimmer"
    xmlns:models="clr-namespace:Dimmer.Data.ModelView;assembly=Dimmer"
    xmlns:modelsDb="clr-namespace:Dimmer.Data.Models;assembly=Dimmer"
    xmlns:modeltwo="clr-namespace:Dimmer.WinUI.Utils.Models"
    xmlns:queryBuilder="queries"
    xmlns:tql="clr-namespace:Dimmer.DimmerSearch.TQL;assembly=Dimmer"
    xmlns:vm="clr-namespace:Dimmer.WinUI.ViewModel"
    x:Name="MyPage"
    Loaded="MyPage_Loaded"
    mc:Ignorable="d">
    <Page.Resources>

        <converters:CollectionSizeToVisibility x:Key="CollectionSizeToVisibility" />
        <converters:VolumeToPercentConverter x:Key="VolumeToPercentConverter" />
        <converters:BoolToImageConverter
            x:Key="PlayPauseConverter"
            FalseValue="play.png"
            TrueValue="pause.png" />
        <converters:BoolToImageConverter
            x:Key="FavIconConverter"
            FalseValue="heartbroken.png"
            TrueValue="heartlock.png" />
    </Page.Resources>


    <Grid>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <StackPanel Orientation="Horizontal" Grid.Column="0" >
                <StackPanel Grid.Column="0" Margin="12"  >
                   
                </StackPanel>
            </StackPanel>
            <!--  Main content area  -->
            <ScrollViewer VerticalScrollBarVisibility="Auto" Grid.Column="1" Background="Transparent">
                <StackPanel
            Padding="24"
            Orientation="Vertical"
            Spacing="20" >

                    <!--  The elements involved in the animation  -->

                    <Grid ColumnSpacing="10" >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />

                        </Grid.ColumnDefinitions>

                        <!--  The Image that will be the target of the connected animation  -->

                        <Image
                    x:Name="detailedImage"
                    Grid.Column="0" 
                    Width="300"
                    Height="300"
                    Source="{x:Bind DetailedSong.CoverImagePath}" />

                        <Border Grid.Column="1">

                            <StackPanel
                        x:Name="coordinatedPanel"
                        
                        Spacing="5"
                        HorizontalAlignment="Left"
                        >

                                <TextBlock
                                HorizontalAlignment="Center"
                                Style="{ThemeResource TitleTextBlockStyle}"
                                Text="{x:Bind DetailedSong.Title,Mode=OneWay}" FontSize="80" 
                                TextWrapping="Wrap" />

                                <Button
                                HorizontalAlignment="Left"                                                
                                Content="{x:Bind DetailedSong.ArtistName,Mode=OneWay}" 
                                BorderThickness="2" FontWeight="Bold"
                            Click="ArtistBtn_Click" x:Name="ArtistBtn"
                                Background="Transparent"/>
                                <StackPanel Orientation="Horizontal" Spacing="10" Margin="0,10,0,0"
                                    >

                                    <Button
                                HorizontalAlignment="Left" 
                                
                                Content="{x:Bind DetailedSong.AlbumName,Mode=OneWay}"
                                BorderThickness="2"
                            Background="Transparent"/>
                                    <TextBlock Text="{x:Bind DetailedSong.ReleaseYear,Mode=OneWay}"
                                       VerticalAlignment="Center"/>


                                </StackPanel>

                                <TextBlock Text="{x:Bind MyViewModel.SelectedSongLastFMData.Wiki.Summary,Mode=OneWay}"/>
                            </StackPanel>

                        </Border>
                    </Grid>

                    <!--  This panel's animation will be coordinated with the main one  -->


                    <!--  More info can go here  -->
                    <StackPanel x:Name="secondPanel" Margin="0,20,0,0">
                        <TextBlock Style="{ThemeResource SubheaderTextBlockStyle}" Text="More Details..." />
                        <!--  Add more details like Genre, Year, etc.  -->
                    </StackPanel>

                </StackPanel>
            </ScrollViewer>

        </Grid>
    </Grid>
</Page>