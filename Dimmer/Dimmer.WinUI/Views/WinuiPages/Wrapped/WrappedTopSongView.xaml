<?xml version="1.0" encoding="utf-8" ?>
<UserControl
    x:Class="Dimmer.WinUI.Views.WinuiPages.Wrapped.WrappedTopSongView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:Dimmer.WinUI.Views.WinuiPages.Wrapped"
    xmlns:lvc="using:LiveChartsCore.SkiaSharpView.WinUI"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid Background="{ThemeResource SolidBackgroundFillColorBaseBrush}">
        <!--  Background Blur Image  -->
        <Image
            Opacity="0.3"
            Source="{Binding TopSong.CoverImagePath}"
            Stretch="UniformToFill" />
        <Rectangle Fill="{ThemeResource SystemControlPageBackgroundChromeLowBrush}" Opacity="0.6" />

        <Grid Padding="40">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!--  Header  -->
            <TextBlock
                HorizontalAlignment="Center"
                CharacterSpacing="2"
                FontSize="24"
                FontWeight="Bold"
                Opacity="0.8"
                Text="MY TOP SONG" />

            <!--  Central Content  -->
            <StackPanel
                Grid.Row="1"
                VerticalAlignment="Center"
                Spacing="20">
                <!--  Album Art Card  -->
                <Grid
                    Width="300"
                    Height="300"
                    CornerRadius="12"
                    Shadow="{StaticResource SharedShadow}">
                    <Image Source="{Binding TopSong.CoverImagePath}" Stretch="UniformToFill" />
                </Grid>

                <TextBlock
                    HorizontalAlignment="Center"
                    FontSize="42"
                    FontWeight="ExtraBold"
                    Style="{StaticResource TitleLargeTextBlockStyle}"
                    Text="{Binding TopSong.Title}"
                    TextAlignment="Center"
                    TextWrapping="Wrap" />

                <TextBlock
                    HorizontalAlignment="Center"
                    FontSize="24"
                    Opacity="0.8"
                    Text="{Binding TopSong.ArtistName}" />

                <StackPanel
                    Margin="0,20,0,0"
                    HorizontalAlignment="Center"
                    Orientation="Horizontal"
                    Spacing="20">
                    <StackPanel>
                        <TextBlock
                            FontSize="28"
                            FontWeight="Bold"
                            Foreground="{ThemeResource AccentAAFillColorDefaultBrush}"
                            Text="{Binding TopSongPlayCount}" />
                        <TextBlock
                            HorizontalAlignment="Center"
                            FontSize="14"
                            Opacity="0.6"
                            Text="Times Played" />
                    </StackPanel>
                    <Rectangle
                        Width="1"
                        Height="40"
                        Fill="Gray" />
                    <StackPanel>
                        <TextBlock
                            FontSize="28"
                            FontWeight="Bold"
                            Foreground="{ThemeResource AccentAAFillColorDefaultBrush}"
                            Text="{Binding TopSongDuration}" />
                        <TextBlock
                            HorizontalAlignment="Center"
                            FontSize="14"
                            Opacity="0.6"
                            Text="Spent Listening" />
                    </StackPanel>
                </StackPanel>
            </StackPanel>

            <!--  Bottom Chart (Abstract)  -->
            <Grid Grid.Row="2" Height="150">
                <lvc:CartesianChart Series="{Binding TopSongDailyChart}" TooltipPosition="Hidden" />
            </Grid>
        </Grid>
    </Grid>
</UserControl>