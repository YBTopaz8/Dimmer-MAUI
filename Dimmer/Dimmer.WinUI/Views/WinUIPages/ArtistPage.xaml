<?xml version="1.0" encoding="utf-8" ?>
<Page
    x:Class="Dimmer.WinUI.Views.WinUIPages.ArtistPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converters="clr-namespace:Dimmer.Utilities.TypeConverters;assembly=Dimmer"
    xmlns:cw="clr-namespace:Dimmer.WinUI.Views.CustomViews"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:dgView="using:WinUI.TableView"
    xmlns:dimmSearch="clr-namespace:Dimmer.Data.ModelView.DimmerSearch;assembly=Dimmer"
    xmlns:lang="clr-namespace:Dimmer.Resources.Localization;assembly=Dimmer"
    xmlns:local="using:Dimmer.WinUI.Views.WinUIPages"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:media="using:Microsoft.UI.Xaml.Media"
    xmlns:models="clr-namespace:Dimmer.Data.ModelView;assembly=Dimmer"
    xmlns:modelsDb="clr-namespace:Dimmer.Data.Models;assembly=Dimmer"
    xmlns:modeltwo="clr-namespace:Dimmer.WinUI.Utils.Models"
    xmlns:queryBuilder="queries"
    xmlns:tql="clr-namespace:Dimmer.DimmerSearch.TQL;assembly=Dimmer"
    xmlns:vm="clr-namespace:Dimmer.WinUI.ViewModel"
    x:Name="MyArtistPage"
    PointerPressed="MyArtistPage_PointerPressed"
    mc:Ignorable="d">

    <Grid
        Margin="5"
        DataContext="{x:Bind MyViewModel}"
        PointerPressed="MyArtistPage_PointerPressed">
        <Grid.RowDefinitions>
            <RowDefinition Height="auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <Grid Grid.Row="0" ColumnSpacing="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="auto" />
            </Grid.ColumnDefinitions>

            <Button
                x:Name="CoordinatedPanel2"
                Grid.Column="0"
                VerticalAlignment="Top"
                Click="CoordinatedPanel2_Click"
                Content="Back" />

            <Grid Grid.Column="1" Background="Transparent">
                <Grid.RowDefinitions>
                    <RowDefinition Height="auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <TextBlock
                    HorizontalAlignment="Center"
                    VerticalAlignment="Top"
                    FontSize="55"
                    FontWeight="SemiBold"
                    Text="{Binding SelectedArtist.Name}" />

                <StackPanel
                    Grid.Row="1"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Bottom"
                    Background="Transparent"
                    BorderThickness="1"
                    Orientation="Horizontal"
                    Spacing="15">

                    <ToggleButton
                        x:Name="IsArtFavorite"
                        Width="50"
                        Height="30"
                        IsChecked="{Binding SelectedArtist.IsFavorite}"
                        IsEnabledChanged="IsArtFavorite_IsEnabledChanged">
                        <Image
                            Width="25"
                            Height="25"
                            Source="/Dimmer/Resources/Images/heartlock.svg"
                            Visibility="Visible" />
                    </ToggleButton>
                    <Button x:Name="AllSongsBtn" Content="{Binding SelectedArtist.TotalSongsByArtist}" />
                    <DropDownButton x:Name="AllAlbumsBtn" Content="All Albums" />


                </StackPanel>
            </Grid>
            <Image
                x:Name="DestinationElement"
                Grid.Column="2"
                Height="300"
                HorizontalAlignment="Right"
                Source="{Binding SelectedArtist.ImagePath}" />
        </Grid>

        <StackPanel Grid.Row="1" PointerPressed="MyArtistPage_PointerPressed">
            <TextBlock
                x:Name="CoordinatedPanel"
                Height="100"
                Text="{Binding SelectedArtist.Name}" />
                
            <dgView:TableView ItemsSource="{Binding SelectedArtist.AverageSongListenThroughRate}" AutoGenerateColumns="False">
                <dgView:TableView.Columns>
                
                </dgView:TableView.Columns>
            </dgView:TableView>
            <dgView:TableView ItemsSource="{Binding SearchResults}" AutoGenerateColumns="False">
                <dgView:TableView.Columns>
                
                </dgView:TableView.Columns>
            </dgView:TableView>

        </StackPanel>
    </Grid>
</Page>
